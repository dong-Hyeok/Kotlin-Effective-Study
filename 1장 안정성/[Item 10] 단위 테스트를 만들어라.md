# 단위 테스트를 만들어라

- 코드를 안전하게 만드는 가장 궁극적인 방법은 다양한 종류의 테스트를 하는 것이다.
- 이러한 종류의 테스트는 개발자의 관점에서 애플리케이션 내부적으로 올바르게 작동하는지 확인하는 것이 아니라, 사용자의 관점에서 애플리케이션 외부적으로 제대로 작동하는지 확인하는 것이 목표이다.
- 단위 테스트는 개발자가 작성하며, 개발자에게 유용하다.

<br><br>

### ✅ 일반적인 단위 테스트 확인 내용

- 일반적인 유스 케이스
    - 요소가 사용될 거라고 예상되는 일반적인 방법을 테스트한다.
- 일반적인 오류 케이스와 잠재적인 문제
    - 제대로 동작하지 않을 거라고 예상되는 일반적인 부분, 과거에 문제가 발생했던 부분 등을 테스트한다.
- 에지 케이스와 잘못된 아규먼트
    - Int의 경우 Int.MAX_VALUE를 사용하는 경우, nullable의 경우 'null' 또는 'null 값으로 채워진 객체'를 사용하는 경우를 의미한다. 피보나치 수는 양의 정수로만 구할 수 있다. 음의 정수 등을 넣으면 아규먼트 자체가 잘못된 것이다.


<br><br>

### ✅ TDD

TDD(Test Driven Development)는 개발 전에 테스트를 먼저 작성하고, 테스트를 통과시키는 것을 목적으로 하나하나 구현해 나가는 방식이다.

단위 테스트의 장점을 정리해보면 다음과 같다.

- 테스트가 잘 된 요소는 신뢰할 수 있다. (요소에 대한 신뢰는 요소를 더욱 자신감 있게 활용할 수 있다.)
- 테스트가 잘 만들어져 있다면, 리펙터링하는 것이 두렵지 않다. 
테스트가 있으므로, 리펙터링했을 때 버그가 생기는지 쉽게 확인할 수 있다.
- 수동으로 테스트하는 것보다 단위 테스트로 확인하는 것이 빠르다. 
빠른 속도의 피드백 루프가 만들어지므로, 개발의 전체적인 속도가 빨라지며 버그를 빨리 찾을 수 있으므로 버그를 수정하는 비용도 줄어든다.

하지만 다음과 같은 단점도 있습니다.

- 단위 테스트를 만드는 데 시간이 걸린다. 다만 장기적으로 좋은 단위 테스트는 '디버깅 시간'과 '버그를 찾는 데 소모되는 시간'을 줄여야 한다.
- 테스트를 활용할 수 있게 코드를 조정해야 한다. 변경하기 어렵기는 하지만, 이러한 변경을 통해 잘 정립된 아키텍처를 사용하는 것이 강제 된다.
- 좋은 단위 테스트를 만드는 작업이 꽤 어렵다. 남은 개발 과정에 대한 확실한 이해가 필요하다.
잘못 만들어진 단위 테스트는 득보다 실이 크다. 단위 테스트를 제대로 하려면, 올바르게 단위 테스트를 하는 방법을 배워야 한다.


<br><br>

### ✅ 숙련된 코틀린 개발자가 되려면

- 단위 테스트와 관련된 기술을 습득하자.
    - 복잡한 부분
    - 계속해서 수정이 일어나고 리팩터링이 일어날 수 있는 부분
    - 비즈니스 로직 부분
    - 공용 API 부분
    - 문제가 자주 발생하는 부분
    - 수정해야 하는 프로덕션 버그

> **정리** 
가장 중요한 것은 애플리케이션이 진짜로 올바르게 동작하는지 확인하는 것!! 
개발 과정에서 가장 효율적으로 활용할 수 있는 테스트는 단위 테스트!
>